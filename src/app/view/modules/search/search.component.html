<!-- the next element -- div.extended-search-panel -- is a hidden dropdown filter menu -->


<div class="search-panel" [class.active]="focusOnSimple" >
    <button class="prefix" (click)="doSearch(search)">
        <md-icon>search</md-icon>
    </button>
    <input #search autocomplete="off"
           type="search" [placeholder]="searchLabel"
           [(ngModel)]="searchQuery" name="search"
           (keyup.esc)="clearSearch(search)"
           (keypress)="onKey(search, $event)"
           (focus)="toggleMenu('simpleSearch')" [disabled]="focusOnExtended"/>
    <!-- switch button:
            - default button is the filter button;
            - but on some focus we need a close button for the simple or extended panel
    -->
    <button class="suffix" *ngIf="focusOnSimple" (click)="clearSearch(search)">
        <md-icon class="md-24">close</md-icon>
    </button>
    <button class="suffix" *ngIf="!focusOnSimple" (click)="toggleMenu('extendedSearch')">
        <md-icon>filter_list</md-icon>
    </button>
</div>

<!-- the search panel has two "dropdown" menus: one for simple search and another one for the extended search -->
<div class="salsah-menu simple-search" [@simpleSearchMenu]="focusOnSimple">
    <salsah-simple-search></salsah-simple-search>
</div>

<div class="salsah-menu extended-search" [@extendedSearchMenu]="focusOnExtended">
    <div class="salsah-menu-header">
        <span class="salsah-menu-title">
            Extended search
        </span>
            <span class="salsah-menu-action">
            <button md-icon-button (click)="toggleMenu('extendedSearch')">
                <md-icon>close</md-icon>
            </button>
        </span>
    </div>
    <salsah-extended-search></salsah-extended-search>
</div>
